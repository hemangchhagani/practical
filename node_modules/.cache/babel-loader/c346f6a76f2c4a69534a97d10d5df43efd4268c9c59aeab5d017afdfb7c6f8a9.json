{"ast":null,"code":"var _jsxFileName = \"/Users/ajaykumarmarko/Desktop/practical/src/components/pageComponents/FoodItems/FoodItems.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport Papa from \"papaparse\";\n// Import your types\nimport FoodItemlist from \"./components/FoodItemlist\";\nimport useGetFoodItemService from \"./hooks/useGetFoodItemService\";\nimport { FoodItemToolBar } from \"./components/FoodItemToolBar\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FoodItems = () => {\n  _s();\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: {\n      errors\n    },\n    reset\n  } = useForm();\n  const [itemsData, setItemsData] = useState([]);\n  const [showModal, setShowModal] = useState(false);\n  const [editMode, setEditMode] = useState(false);\n  const [currentItem, setCurrentItem] = useState(null);\n  const [showCsvModal, setShowCsvModal] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const {\n    getItems,\n    setItems,\n    updateItems,\n    deleteItems\n  } = useGetFoodItemService();\n\n  // Fetch data dynamically when the component mounts\n  useEffect(() => {\n    fetchItemsData();\n  }, []);\n\n  // Fetch items data from the backend\n  const fetchItemsData = async () => {\n    setLoading(true); // Show loading state\n    try {\n      const response = await getItems(); // Adjust based on your service\n      const items = response.data || response;\n      const formattedItems = items.map(item => ({\n        id: item.id,\n        name: item.name,\n        category: item.category,\n        iddsi_level: item.iddsi_level\n      }));\n      setItemsData(formattedItems);\n    } catch (error) {\n      console.error(\"Error fetching items data:\", error);\n    } finally {\n      setLoading(false); // Hide loading state\n    }\n  };\n\n  // Handle opening the form modal\n  const handleShow = () => {\n    setShowModal(true);\n    setEditMode(false);\n    reset(); // Clear form fields when adding a new item\n  };\n\n  // Handle closing the modals (both CSV and form modals)\n  const handleClose = () => {\n    setShowModal(false);\n    setShowCsvModal(false);\n    setCurrentItem(null);\n  };\n\n  // Handle item edit\n  const handleEdit = item => {\n    setEditMode(true);\n    setCurrentItem(item);\n    setShowModal(true);\n    setValue(\"name\", item.name);\n    setValue(\"category\", item.category);\n    setValue(\"iddsi_level\", item.iddsi_level);\n  };\n\n  // Handle delete item\n  const handleDelete = async id => {\n    try {\n      await deleteItems(id);\n      setItemsData(prevItems => prevItems.filter(item => item.id !== id)); // Update state\n      alert(`Item with ID ${id} deleted successfully.`);\n    } catch (error) {\n      console.error(`Error deleting item with ID ${id}:`, error);\n      alert(`Error deleting item with ID ${id}`);\n    }\n  };\n\n  // Handle form submission\n  const onSubmit = async data => {\n    try {\n      if (editMode && currentItem) {\n        // Edit existing item\n        await updateItems(currentItem.id, data.name, data.category, data.iddsi_level);\n        setItemsData(prevItems => prevItems.map(item => item.id === currentItem.id ? {\n          ...item,\n          name: data.name,\n          category: data.category,\n          iddsi_level: data.iddsi_level\n        } : item));\n        alert(\"Item updated successfully!\");\n      } else {\n        // Add new item\n        const response = await setItems(data.name, data.category, data.iddsi_level);\n        setItemsData(prevItems => [...prevItems, response.data]);\n        alert(\"New item added successfully!\");\n      }\n      handleClose(); // Close modal after success\n    } catch (error) {\n      console.error(\"Error submitting form:\", error);\n      alert(\"Error saving item.\");\n    }\n  };\n\n  // Handle CSV upload\n  const handleCsvUpload = event => {\n    var _event$target$files;\n    const file = (_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0];\n    if (file) {\n      Papa.parse(file, {\n        complete: async results => {\n          const data = results.data.slice(1); // Exclude header row\n          const parsedItems = data.map((row, index) => ({\n            id: itemsData.length + index + 1,\n            name: row[0],\n            category: row[1],\n            iddsi_level: row[2]\n          }));\n          try {\n            for (const item of parsedItems) {\n              await setItems(item.name, item.category, item.iddsi_level);\n            }\n            fetchItemsData(); // Refresh item list after upload\n            alert(\"Items uploaded and saved successfully!\");\n          } catch (error) {\n            console.error(\"Error uploading CSV:\", error);\n            alert(\"Error uploading CSV.\");\n          }\n          handleClose(); // Close modal after upload\n        },\n        header: false\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row justify-content-center\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-12\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-center\",\n          children: \"Items\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FoodItemToolBar, {\n          handleShow: handleShow,\n          setShowCsvModal: setShowCsvModal\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-12 align-right\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-primary m-3\",\n            onClick: handleShow,\n            children: \"Add Item\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-primary m-3\",\n            onClick: () => setShowCsvModal(true),\n            children: \"Add Items (CSV)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"/residents\",\n            className: \"btn btn-primary m-3\",\n            children: \"Add Residents\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this), showModal && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal show d-block\",\n            role: \"dialog\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-dialog\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"modal-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"modal-header\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"modal-title\",\n                    children: editMode ? \"Edit Item\" : \"Add New Item\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 200,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"close\",\n                    onClick: handleClose,\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"\\xD7\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 208,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 203,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 199,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"modal-body\",\n                  children: /*#__PURE__*/_jsxDEV(\"form\", {\n                    onSubmit: handleSubmit(onSubmit),\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"name\",\n                        children: \"Name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 214,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        ...register(\"name\", {\n                          required: true\n                        }),\n                        type: \"text\",\n                        className: \"form-control\",\n                        placeholder: \"Enter item name\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 215,\n                        columnNumber: 27\n                      }, this), errors.name && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-danger\",\n                        children: \"This field is required\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 222,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 213,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"category\",\n                        children: \"Category\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 228,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                        ...register(\"category\", {\n                          required: true\n                        }),\n                        className: \"form-control\",\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"\",\n                          children: \"Select Category\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 233,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"chicken\",\n                          children: \"Chicken\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 234,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"pork\",\n                          children: \"Pork\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 235,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"fish\",\n                          children: \"Fish\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 236,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"veg\",\n                          children: \"Veg\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 237,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 229,\n                        columnNumber: 27\n                      }, this), errors.category && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-danger\",\n                        children: \"Category is required\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 240,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 227,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"form-group mb-3\",\n                      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                        htmlFor: \"iddsi_level\",\n                        children: \"IDDSI Level\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 246,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                        ...register(\"iddsi_level\", {\n                          required: true\n                        }),\n                        className: \"form-control\",\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"\",\n                          children: \"Select IDDSI Level\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 251,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"Thin\",\n                          children: \"Thin\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 252,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"Slightly Thick\",\n                          children: \"Slightly Thick\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 253,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"Mildly Thick\",\n                          children: \"Mildly Thick\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 256,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"Moderately Thick\",\n                          children: \"Moderately Thick\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 257,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"Extremely Thick\",\n                          children: \"Extremely Thick\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 260,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"Regular\",\n                          children: \"Regular\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 263,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"Easy to Chew\",\n                          children: \"Easy to Chew\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 264,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"Soft & Bite-Sized\",\n                          children: \"Soft & Bite-Sized\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 265,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"Mince & Moist\",\n                          children: \"Mince & Moist\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 268,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"Pureed\",\n                          children: \"Pureed\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 269,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"Liquidised\",\n                          children: \"Liquidised\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 270,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 247,\n                        columnNumber: 27\n                      }, this), errors.iddsi_level && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"text-danger\",\n                        children: \"IDDSI Level is required\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 273,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 245,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"submit\",\n                      className: \"btn btn-primary w-100\",\n                      children: editMode ? \"Update Item\" : \"Add Item\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 278,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 212,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 211,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"modal-footer\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn btn-secondary\",\n                    onClick: handleClose,\n                    children: \"Close\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-backdrop fade show\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), showCsvModal && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal show d-block\",\n            role: \"dialog\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"modal-dialog\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"modal-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"modal-header\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                    className: \"modal-title\",\n                    children: \"Upload CSV\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 306,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"close\",\n                    onClick: handleClose,\n                    children: /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"\\xD7\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 312,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 307,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"modal-body\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"file\",\n                    className: \"form-control mb-3\",\n                    accept: \".csv\",\n                    onChange: handleCsvUpload\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 316,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"modal-footer\",\n                  children: /*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"btn btn-secondary\",\n                    onClick: handleClose,\n                    children: \"Close\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 324,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-backdrop fade show\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true), /*#__PURE__*/_jsxDEV(FoodItemlist, {\n          itemsData: itemsData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this), loading && /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"Loading items...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 23\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 5\n  }, this);\n};\n_s(FoodItems, \"77sWDJDm7ZSUXY4LwxYRZ1kMQ4c=\", false, function () {\n  return [useForm, useGetFoodItemService];\n});\n_c = FoodItems;\nexport default FoodItems;\nvar _c;\n$RefreshReg$(_c, \"FoodItems\");","map":{"version":3,"names":["React","useState","useEffect","useForm","Papa","FoodItemlist","useGetFoodItemService","FoodItemToolBar","jsxDEV","_jsxDEV","Fragment","_Fragment","FoodItems","_s","register","handleSubmit","setValue","formState","errors","reset","itemsData","setItemsData","showModal","setShowModal","editMode","setEditMode","currentItem","setCurrentItem","showCsvModal","setShowCsvModal","loading","setLoading","getItems","setItems","updateItems","deleteItems","fetchItemsData","response","items","data","formattedItems","map","item","id","name","category","iddsi_level","error","console","handleShow","handleClose","handleEdit","handleDelete","prevItems","filter","alert","onSubmit","handleCsvUpload","event","_event$target$files","file","target","files","parse","complete","results","slice","parsedItems","row","index","length","header","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","onClick","href","role","htmlFor","required","placeholder","value","accept","onChange","_c","$RefreshReg$"],"sources":["/Users/ajaykumarmarko/Desktop/practical/src/components/pageComponents/FoodItems/FoodItems.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport Papa from \"papaparse\";\nimport { ItemData, ItemsForm } from \"../../../types/ItemsForm\"; // Import your types\nimport FoodItemlist from \"./components/FoodItemlist\";\nimport useGetFoodItemService from \"./hooks/useGetFoodItemService\";\nimport { FoodItemToolBar } from \"./components/FoodItemToolBar\";\n\nconst FoodItems: React.FC = () => {\n  const {\n    register,\n    handleSubmit,\n    setValue,\n    formState: { errors },\n    reset,\n  } = useForm<ItemsForm>();\n  const [itemsData, setItemsData] = useState<ItemData[]>([]);\n  const [showModal, setShowModal] = useState(false);\n  const [editMode, setEditMode] = useState(false);\n  const [currentItem, setCurrentItem] = useState<ItemData | null>(null);\n  const [showCsvModal, setShowCsvModal] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  const { getItems, setItems, updateItems, deleteItems } =\n    useGetFoodItemService();\n\n  // Fetch data dynamically when the component mounts\n  useEffect(() => {\n    fetchItemsData();\n  }, []);\n\n  // Fetch items data from the backend\n  const fetchItemsData = async () => {\n    setLoading(true); // Show loading state\n    try {\n      const response = await getItems(); // Adjust based on your service\n      const items = response.data || response;\n      const formattedItems = items.map((item: any) => ({\n        id: item.id,\n        name: item.name,\n        category: item.category,\n        iddsi_level: item.iddsi_level,\n      }));\n      setItemsData(formattedItems);\n    } catch (error) {\n      console.error(\"Error fetching items data:\", error);\n    } finally {\n      setLoading(false); // Hide loading state\n    }\n  };\n\n  // Handle opening the form modal\n  const handleShow = () => {\n    setShowModal(true);\n    setEditMode(false);\n    reset(); // Clear form fields when adding a new item\n  };\n\n  // Handle closing the modals (both CSV and form modals)\n  const handleClose = () => {\n    setShowModal(false);\n    setShowCsvModal(false);\n    setCurrentItem(null);\n  };\n\n  // Handle item edit\n  const handleEdit = (item: ItemData) => {\n    setEditMode(true);\n    setCurrentItem(item);\n    setShowModal(true);\n    setValue(\"name\", item.name);\n    setValue(\"category\", item.category);\n    setValue(\"iddsi_level\", item.iddsi_level);\n  };\n\n  // Handle delete item\n  const handleDelete = async (id: number) => {\n    try {\n      await deleteItems(id);\n      setItemsData((prevItems) => prevItems.filter((item) => item.id !== id)); // Update state\n      alert(`Item with ID ${id} deleted successfully.`);\n    } catch (error) {\n      console.error(`Error deleting item with ID ${id}:`, error);\n      alert(`Error deleting item with ID ${id}`);\n    }\n  };\n\n  // Handle form submission\n  const onSubmit = async (data: ItemsForm) => {\n    try {\n      if (editMode && currentItem) {\n        // Edit existing item\n        await updateItems(\n          currentItem.id,\n          data.name,\n          data.category,\n          data.iddsi_level\n        );\n        setItemsData((prevItems) =>\n          prevItems.map((item) =>\n            item.id === currentItem.id\n              ? {\n                  ...item,\n                  name: data.name,\n                  category: data.category,\n                  iddsi_level: data.iddsi_level,\n                }\n              : item\n          )\n        );\n        alert(\"Item updated successfully!\");\n      } else {\n        // Add new item\n        const response = await setItems(\n          data.name,\n          data.category,\n          data.iddsi_level\n        );\n        setItemsData((prevItems) => [...prevItems, response.data]);\n        alert(\"New item added successfully!\");\n      }\n      handleClose(); // Close modal after success\n    } catch (error) {\n      console.error(\"Error submitting form:\", error);\n      alert(\"Error saving item.\");\n    }\n  };\n\n  // Handle CSV upload\n  const handleCsvUpload = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const file = event.target.files?.[0];\n    if (file) {\n      Papa.parse(file, {\n        complete: async (results: any) => {\n          const data = results.data.slice(1); // Exclude header row\n          const parsedItems: ItemData[] = data.map(\n            (row: any, index: number) => ({\n              id: itemsData.length + index + 1,\n              name: row[0],\n              category: row[1],\n              iddsi_level: row[2],\n            })\n          );\n\n          try {\n            for (const item of parsedItems) {\n              await setItems(item.name, item.category, item.iddsi_level);\n            }\n            fetchItemsData(); // Refresh item list after upload\n            alert(\"Items uploaded and saved successfully!\");\n          } catch (error) {\n            console.error(\"Error uploading CSV:\", error);\n            alert(\"Error uploading CSV.\");\n          }\n          handleClose(); // Close modal after upload\n        },\n        header: false,\n      });\n    }\n  };\n\n  return (\n    <div className=\"container mt-5\">\n      <div className=\"row justify-content-center\">\n        <div className=\"col-md-12\">\n          <h2 className=\"text-center\">Items</h2>\n\n          <FoodItemToolBar\n            handleShow={handleShow}\n            setShowCsvModal={setShowCsvModal}\n          />\n\n          <div className=\"col-md-12 align-right\">\n            <button\n              type=\"button\"\n              className=\"btn btn-primary m-3\"\n              onClick={handleShow}\n            >\n              Add Item\n            </button>\n            <button\n              type=\"button\"\n              className=\"btn btn-primary m-3\"\n              onClick={() => setShowCsvModal(true)}\n            >\n              Add Items (CSV)\n            </button>\n            <a href=\"/residents\" className=\"btn btn-primary m-3\">\n              Add Residents\n            </a>\n          </div>\n\n          {/* Modal for Add/Edit Item */}\n          {showModal && (\n            <>\n              <div className=\"modal show d-block\" role=\"dialog\">\n                <div className=\"modal-dialog\">\n                  <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                      <h5 className=\"modal-title\">\n                        {editMode ? \"Edit Item\" : \"Add New Item\"}\n                      </h5>\n                      <button\n                        type=\"button\"\n                        className=\"close\"\n                        onClick={handleClose}\n                      >\n                        <span>&times;</span>\n                      </button>\n                    </div>\n                    <div className=\"modal-body\">\n                      <form onSubmit={handleSubmit(onSubmit)}>\n                        <div className=\"form-group mb-3\">\n                          <label htmlFor=\"name\">Name</label>\n                          <input\n                            {...register(\"name\", { required: true })}\n                            type=\"text\"\n                            className=\"form-control\"\n                            placeholder=\"Enter item name\"\n                          />\n                          {errors.name && (\n                            <span className=\"text-danger\">\n                              This field is required\n                            </span>\n                          )}\n                        </div>\n                        <div className=\"form-group mb-3\">\n                          <label htmlFor=\"category\">Category</label>\n                          <select\n                            {...register(\"category\", { required: true })}\n                            className=\"form-control\"\n                          >\n                            <option value=\"\">Select Category</option>\n                            <option value=\"chicken\">Chicken</option>\n                            <option value=\"pork\">Pork</option>\n                            <option value=\"fish\">Fish</option>\n                            <option value=\"veg\">Veg</option>\n                          </select>\n                          {errors.category && (\n                            <span className=\"text-danger\">\n                              Category is required\n                            </span>\n                          )}\n                        </div>\n                        <div className=\"form-group mb-3\">\n                          <label htmlFor=\"iddsi_level\">IDDSI Level</label>\n                          <select\n                            {...register(\"iddsi_level\", { required: true })}\n                            className=\"form-control\"\n                          >\n                            <option value=\"\">Select IDDSI Level</option>\n                            <option value=\"Thin\">Thin</option>\n                            <option value=\"Slightly Thick\">\n                              Slightly Thick\n                            </option>\n                            <option value=\"Mildly Thick\">Mildly Thick</option>\n                            <option value=\"Moderately Thick\">\n                              Moderately Thick\n                            </option>\n                            <option value=\"Extremely Thick\">\n                              Extremely Thick\n                            </option>\n                            <option value=\"Regular\">Regular</option>\n                            <option value=\"Easy to Chew\">Easy to Chew</option>\n                            <option value=\"Soft & Bite-Sized\">\n                              Soft & Bite-Sized\n                            </option>\n                            <option value=\"Mince & Moist\">Mince & Moist</option>\n                            <option value=\"Pureed\">Pureed</option>\n                            <option value=\"Liquidised\">Liquidised</option>\n                          </select>\n                          {errors.iddsi_level && (\n                            <span className=\"text-danger\">\n                              IDDSI Level is required\n                            </span>\n                          )}\n                        </div>\n                        <button type=\"submit\" className=\"btn btn-primary w-100\">\n                          {editMode ? \"Update Item\" : \"Add Item\"}\n                        </button>\n                      </form>\n                    </div>\n                    <div className=\"modal-footer\">\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-secondary\"\n                        onClick={handleClose}\n                      >\n                        Close\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"modal-backdrop fade show\"></div>\n            </>\n          )}\n\n          {/* CSV Upload Modal */}\n          {showCsvModal && (\n            <>\n              <div className=\"modal show d-block\" role=\"dialog\">\n                <div className=\"modal-dialog\">\n                  <div className=\"modal-content\">\n                    <div className=\"modal-header\">\n                      <h5 className=\"modal-title\">Upload CSV</h5>\n                      <button\n                        type=\"button\"\n                        className=\"close\"\n                        onClick={handleClose}\n                      >\n                        <span>&times;</span>\n                      </button>\n                    </div>\n                    <div className=\"modal-body\">\n                      <input\n                        type=\"file\"\n                        className=\"form-control mb-3\"\n                        accept=\".csv\"\n                        onChange={handleCsvUpload}\n                      />\n                    </div>\n                    <div className=\"modal-footer\">\n                      <button\n                        type=\"button\"\n                        className=\"btn btn-secondary\"\n                        onClick={handleClose}\n                      >\n                        Close\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"modal-backdrop fade show\"></div>\n            </>\n          )}\n\n          {/* Display the list of items */}\n          <FoodItemlist itemsData={itemsData as ItemData[]} />\n\n          {/* Show loading state if data is being fetched */}\n          {loading && <div>Loading items...</div>}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FoodItems;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}