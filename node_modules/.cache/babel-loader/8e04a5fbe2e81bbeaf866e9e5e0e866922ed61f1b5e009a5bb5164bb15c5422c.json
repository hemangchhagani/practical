{"ast":null,"code":"import axios from 'axios';\n\n// Access the API URL from the environment variable\nconst API_URL = process.env.REACT_APP_API_URL;\nconst register = (username, email, password) => {\n  return axios.post(`${API_URL}register`, {\n    username,\n    email,\n    password\n  });\n};\n//${API_URL}\n\nconst login = (email, password) => {\n  // const [email, setEmail] = useState(\"\");\n  // const [password, setPassword] = useState(\"\");\n  // const [error, setError] = useState(\"\");\n\n  const handleLogin = async e => {\n    e.preventDefault();\n    try {\n      const response = await axios.post(\"http://localhost:8000/api/login\", {\n        email,\n        password\n      });\n\n      // Store the token in local storage\n      localStorage.setItem(\"token\", response.data.token);\n      alert(\"Login successful!\");\n    } catch (error) {\n      setError(\"Invalid credentials\");\n    }\n  };\n};\nconst logout = () => {\n  localStorage.removeItem('user');\n};\nexport default {\n  register,\n  login,\n  logout\n};","map":{"version":3,"names":["axios","API_URL","process","env","REACT_APP_API_URL","register","username","email","password","post","login","handleLogin","e","preventDefault","response","localStorage","setItem","data","token","alert","error","setError","logout","removeItem"],"sources":["C:/Users/Dell/Desktop/precticaltest/frontend/src/components/AuthService.ts"],"sourcesContent":["import axios from 'axios';\n\n// Access the API URL from the environment variable\nconst API_URL = process.env.REACT_APP_API_URL;\n\nconst register = (username: string, email: string, password: string) => {\n  return axios.post(`${API_URL}register`, {\n    username,\n    email,\n    password\n  });\n};\n//${API_URL}\n\nconst login = ( email: string, password: string) => {\n  // const [email, setEmail] = useState(\"\");\n  // const [password, setPassword] = useState(\"\");\n  // const [error, setError] = useState(\"\");\n\n  const handleLogin = async (e) => {\n    e.preventDefault();\n    try {\n      const response = await axios.post(\"http://localhost:8000/api/login\", {\n        email,\n        password,\n      });\n\n      // Store the token in local storage\n      localStorage.setItem(\"token\", response.data.token);\n\n      alert(\"Login successful!\");\n    } catch (error) {\n      setError(\"Invalid credentials\");\n    }\n  };\n  \n};\n\nconst logout = () => {\n  localStorage.removeItem('user');\n};\n\nexport default {\n  register,\n  login,\n  logout\n};\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,OAAO,GAAGC,OAAO,CAACC,GAAG,CAACC,iBAAiB;AAE7C,MAAMC,QAAQ,GAAGA,CAACC,QAAgB,EAAEC,KAAa,EAAEC,QAAgB,KAAK;EACtE,OAAOR,KAAK,CAACS,IAAI,CAAC,GAAGR,OAAO,UAAU,EAAE;IACtCK,QAAQ;IACRC,KAAK;IACLC;EACF,CAAC,CAAC;AACJ,CAAC;AACD;;AAEA,MAAME,KAAK,GAAGA,CAAEH,KAAa,EAAEC,QAAgB,KAAK;EAClD;EACA;EACA;;EAEA,MAAMG,WAAW,GAAG,MAAOC,CAAC,IAAK;IAC/BA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClB,IAAI;MACF,MAAMC,QAAQ,GAAG,MAAMd,KAAK,CAACS,IAAI,CAAC,iCAAiC,EAAE;QACnEF,KAAK;QACLC;MACF,CAAC,CAAC;;MAEF;MACAO,YAAY,CAACC,OAAO,CAAC,OAAO,EAAEF,QAAQ,CAACG,IAAI,CAACC,KAAK,CAAC;MAElDC,KAAK,CAAC,mBAAmB,CAAC;IAC5B,CAAC,CAAC,OAAOC,KAAK,EAAE;MACdC,QAAQ,CAAC,qBAAqB,CAAC;IACjC;EACF,CAAC;AAEH,CAAC;AAED,MAAMC,MAAM,GAAGA,CAAA,KAAM;EACnBP,YAAY,CAACQ,UAAU,CAAC,MAAM,CAAC;AACjC,CAAC;AAED,eAAe;EACblB,QAAQ;EACRK,KAAK;EACLY;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}